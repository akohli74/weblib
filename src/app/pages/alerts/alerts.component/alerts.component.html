<div class="alerts-page">
    <header class="header-row">
      <div class="header-left">
        <h1>Alerts</h1>
        <span class="open-pill">{{ openCount }} open</span>
      </div>
  
      <div class="search-wrapper">
        <span class="icon-search">ğŸ”</span>
        <input
          type="text"
          [(ngModel)]="searchTerm"
          placeholder="Search alerts or related items"
        />
      </div>
    </header>
  
    <!-- Filters card -->
    <section class="filters-card">
      <div class="filters-grid">
        <div class="filter-field">
          <label>Category</label>
          <select class="pill-select" [(ngModel)]="categoryFilter">
            <option value="All">All</option>
            <option value="Overdue">Overdue</option>
            <option value="Lost">Lost</option>
            <option value="Damage">Damage</option>
            <option value="Hold">Hold / Reservation</option>
            <option value="Member">Member</option>
            <option value="System">System</option>
          </select>
        </div>
  
        <div class="filter-field">
          <label>Severity</label>
          <select class="pill-select" [(ngModel)]="severityFilter">
            <option value="All">All</option>
            <option value="High">High</option>
            <option value="Medium">Medium</option>
            <option value="Low">Low</option>
          </select>
        </div>
  
        <div class="filter-field">
          <label>Status</label>
          <select class="pill-select" [(ngModel)]="statusFilter">
            <option value="Open">Open</option>
            <option value="All">Open and resolved</option>
          </select>
        </div>
  
        <div class="filter-field reset-wrapper">
          <button
            type="button"
            class="reset-btn"
            (click)="resetFilters()"
          >
            Reset filters
          </button>
        </div>
      </div>
    </section>
  
    <!-- Alerts table -->
    <section class="table-card">
      <table>
        <thead>
          <tr>
            <th>Alert</th>
            <th>Related To</th>
            <th>Category</th>
            <th>Severity</th>
            <th>Created</th>
            <th>Status</th>
            <th class="col-actions">Actions</th>
          </tr>
        </thead>
  
        <tbody>
          <tr *ngFor="let alert of filteredAlerts">
            <td>
              <div class="alert-main">
                <div class="alert-icon" [ngClass]="alert.category.toLowerCase()">
                  <!-- simple emoji icons per category -->
                  <span *ngIf="alert.category === 'Overdue'">â°</span>
                  <span *ngIf="alert.category === 'Lost'">ğŸ“•</span>
                  <span *ngIf="alert.category === 'Damage'">ğŸ› </span>
                  <span *ngIf="alert.category === 'Hold'">ğŸ“Œ</span>
                  <span *ngIf="alert.category === 'Member'">ğŸ‘¤</span>
                  <span *ngIf="alert.category === 'System'">âš™ï¸</span>
                </div>
  
                <div class="alert-text">
                  <div class="alert-title">{{ alert.title }}</div>
                  <div class="alert-description">
                    {{ alert.description }}
                  </div>
                </div>
              </div>
            </td>
  
            <td>
              <div class="related-type">{{ alert.relatedType }}</div>
              <div class="related-name">{{ alert.relatedName }}</div>
            </td>
  
            <td>{{ alert.category }}</td>
  
            <td>
              <span
                class="severity-pill"
                [ngClass]="alert.severity.toLowerCase()"
              >
                {{ alert.severity }}
              </span>
            </td>
  
            <td>
              {{ alert.createdAt | date: 'MMM d, y, h:mm a' }}
            </td>
  
            <td>
              <span
                class="status-pill"
                [ngClass]="alert.status.toLowerCase()"
              >
                {{ alert.status }}
              </span>
            </td>
  
            <td class="col-actions">
              <button class="icon-btn" title="View">
                ğŸ‘ï¸
              </button>
              <button
                class="icon-btn"
                title="Mark resolved"
                [disabled]="alert.status === 'Resolved'"
                (click)="markResolved(alert)"
              >
                âœ…
              </button>
            </td>
          </tr>
        </tbody>
      </table>
  
      <div class="table-footer">
        <span>Showing {{ filteredAlerts.length }} of {{ alerts.length }} alerts</span>
        <!-- you can wire real pagination later -->
        <div class="pagination">
          <button class="page-btn active">1</button>
          <button class="page-btn">2</button>
          <span class="dots">â€¦</span>
          <button class="page-btn">5</button>
        </div>
      </div>
    </section>
  </div>
  