<div class="dashboard-page">

  <header class="top-bar">
    <h1>Dashboard</h1>

    <div class="search-box">
      <i class="icon-menu"></i>
      <input
        type="text"
        placeholder="Search Book, Customer, ISBN"
        [(ngModel)]="searchText"
        (keyup.enter)="onSearch()"
      />
      <i class="icon-search"></i>
    </div>
  </header>

  <!-- Top stats -->
  <section class="stats-row">
    <div class="stat-card">
      <div class="label" style="font-size: 20px">Total Books</div>
      <div class="value" style="font-size: 40px">{{this.totalbooks}}</div>
    </div>
    <div class="stat-card">
      <div class="label" style="font-size: 20px">Books Checked Out</div>
      <div class="value" style="font-size: 40px">{{this.checkedoutbooks}}</div>
    </div>
    <div class="stat-card">
      <div class="label" style="font-size: 20px">Total Members</div>
      <div class="value" style="font-size: 40px">{{this.totalmembers}}</div>
    </div>
  </section>

  <!-- Analytics cards -->
  <section class="analytics">
    <div class="analytics-header">
      <h2>Analytics</h2>
      <span class="period">Past Month</span>
    </div>

    <div class="analytics-row">
      <div class="analytics-card green">
        <div class="title">
          <mat-icon style="color: #0DAA02; font-size: 30px; height: 30px; width: 30px;">menu_book</mat-icon>
          <span>Check Outs</span>
        </div>
        <div class="metric">
          <span style="color: #0DAA02;" class="value">{{this.checkouts}}</span>
          <span class="trend down">▼ 30.6%</span>
        </div>
        <button (click)="goToCheckouts()" class="primary-btn">View Checkouts</button>
      </div>

      <div class="analytics-card red">
        <div class="title">
          <mat-icon style="color: #ff5c5c; font-size: 30px; height: 30px; width: 30px;">
            attach_money
          </mat-icon>          
          <span>Late Fee's</span>
        </div>
        <div class="metric">
          <span style="color: #ff5c5c;" class="value">${{this.latefees}}</span>
          <span class="trend up">▲ 25.7%</span>
        </div>
        <button (click)="goToCustomers()" class="primary-btn">View Customers</button>
      </div>

      <div class="analytics-card purple">
        <div class="title">
          <mat-icon style="color: #f14bf3; font-size: 30px; height: 30px; width: 30px;">warning</mat-icon>
          <span>Over Dues</span>
        </div>
        <div class="metric">
          <span style="color: #f14bf3;" class="value">{{this.overdues}}</span>
          <span class="trend down">▼ 30.6%</span>
        </div>
        <button (click)="goToCustomers()" class="primary-btn">View Customers</button>
      </div>

      <div class="analytics-card yellow">
        <div class="title">
          <mat-icon style="color: #ffd447; font-size: 30px; height: 30px; width: 30px;">person</mat-icon>
          <span>New Members</span>
        </div>
        <div class="metric">
          <span style="color: #ffd447;" class="value">{{this.newmembers}}</span>
          <span class="trend up">▲ 25.7%</span>
        </div>
        <button (click)="goToBooks()" class="primary-btn">View Books</button>
      </div>
    </div>
  </section>

  <!-- Recent activity table -->
  <section class="recent-activity">
    <h2>Recent Activity</h2>
  
    <div class="recent-card">
      <table>
        <thead>
          <tr>
            <th>Member</th>
            <th>Activity</th>
            <th>Book</th>
            <th>Date</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let row of recentActivity">
            <td>{{ row.member }}</td>
            <td>{{ row.activity }}</td>
            <td>{{ row.book }}</td>
            <td>{{ row.date | date: 'MMM d, y' }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
  

</div>
